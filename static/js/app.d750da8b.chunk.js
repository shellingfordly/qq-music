(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{234:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var r=n(34),o=n.n(r),i=n(7),a=n.n(i),s=n(13),c=n.n(s),l=n(14),u=n.n(l),d=n(65),f=n.n(d),p=n(23),h=n.n(p),b=n(30),g=n.n(b),j=n(19),O=n.n(j),m=n(0),y=n.n(m),x=n(18),v=n.n(x),w=n(10),S=n(3),P=n(27),k=n(41),C=n(22),T=n(9),D=n(236),E=n(1);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var L={container:{backgroundColor:"transparent",position:"relative",flex:1},wrapperIOS:{backgroundColor:"transparent"},wrapperAndroid:{backgroundColor:"transparent",flex:1},slide:{backgroundColor:"transparent"},pagination_x:{position:"absolute",bottom:25,left:0,right:0,flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},pagination_y:{position:"absolute",right:15,top:0,bottom:0,flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},title:{height:30,justifyContent:"center",position:"absolute",paddingLeft:10,bottom:-30,left:0,flexWrap:"nowrap",width:250,backgroundColor:"transparent"},buttonWrapper:{backgroundColor:"transparent",flexDirection:"row",position:"absolute",top:0,left:0,flex:1,paddingHorizontal:10,paddingVertical:10,justifyContent:"space-between",alignItems:"center"},buttonText:{fontSize:50,color:"#007aff"}},N=function(t){h()(r,t);var n=R(r);function r(){var t;c()(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))).state=t.initState(t.props),t.initialRender=!0,t.autoplayTimer=null,t.loopJumpTimer=null,t.onLayout=function(e){var n=e.nativeEvent.layout,r=n.width,o=n.height,i=t.internals.offset={},a={width:r,height:o};if(t.state.total>1){var s=t.state.index;t.props.loop&&s++,i[t.state.dir]="y"===t.state.dir?o*s:r*s}t.state.offset||(a.offset=i),t.initialRender&&t.state.total>1&&(t.scrollView.scrollTo(B(B({},i),{},{animated:!1})),t.initialRender=!1),t.setState(a)},t.loopJump=function(){if(t.state.loopJump){var e=t.state.index+(t.props.loop?1:0),n=t.scrollView;t.loopJumpTimer=setTimeout((function(){n.setPageWithoutAnimation?n.setPageWithoutAnimation(e):0===t.state.index?n.scrollTo(!1===t.props.horizontal?{x:0,y:t.state.height,animated:!1}:{x:t.state.width,y:0,animated:!1}):t.state.index===t.state.total-1&&(!1===t.props.horizontal?t.scrollView.scrollTo({x:0,y:t.state.height*t.state.total,animated:!1}):t.scrollView.scrollTo({x:t.state.width*t.state.total,y:0,animated:!1}))}),n.setPageWithoutAnimation?50:300)}},t.autoplay=function(){Array.isArray(t.state.children)&&t.props.autoplay&&!t.internals.isScrolling&&!t.state.autoplayEnd&&(t.autoplayTimer&&clearTimeout(t.autoplayTimer),t.autoplayTimer=setTimeout((function(){if(!t.props.loop&&(t.props.autoplayDirection?t.state.index===t.state.total-1:0===t.state.index))return t.setState({autoplayEnd:!0});t.scrollBy(t.props.autoplayDirection?1:-1)}),1e3*t.props.autoplayTimeout))},t.onScrollBegin=function(e){t.internals.isScrolling=!0,t.props.onScrollBeginDrag&&t.props.onScrollBeginDrag(e,t.fullState(),f()(t))},t.onScrollEnd=function(e){t.internals.isScrolling=!1,e.nativeEvent.contentOffset||("x"===t.state.dir?e.nativeEvent.contentOffset={x:e.nativeEvent.position*t.state.width}:e.nativeEvent.contentOffset={y:e.nativeEvent.position*t.state.height}),t.updateIndex(e.nativeEvent.contentOffset,t.state.dir,(function(){t.autoplay(),t.loopJump()})),t.props.onMomentumScrollEnd&&t.props.onMomentumScrollEnd(e,t.fullState(),f()(t))},t.onScrollEndDrag=function(e){var n=e.nativeEvent.contentOffset,r=t.props.horizontal,o=t.state,i=o.children,a=o.index,s=t.internals.offset;(r?s.x:s.y)!==(r?n.x:n.y)||0!==a&&a!==i.length-1||(t.internals.isScrolling=!1)},t.updateIndex=function(e,n,r){var o=t.state,i=o.index;t.internals.offset||(t.internals.offset={});var a=e[n]-t.internals.offset[n],s="x"===n?o.width:o.height,c=!1;if(a){i=parseInt(i+Math.round(a/s)),t.props.loop&&(i<=-1?(i=o.total-1,e[n]=s*o.total,c=!0):i>=o.total&&(i=0,e[n]=s,c=!0));var l={};l.index=i,l.loopJump=c,t.internals.offset=e,c?e[n]===t.internals.offset[n]?(l.offset={x:0,y:0},l.offset[n]=e[n]+1,t.setState(l,(function(){t.setState({offset:e},r)}))):(l.offset=e,t.setState(l,r)):t.setState(l,r)}},t.scrollBy=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(t.internals.isScrolling||t.state.total<2)){var o=t.state,i=(t.props.loop?1:0)+n+t.state.index,a=0,s=0;"x"===o.dir&&(a=i*o.width),"y"===o.dir&&(s=i*o.height),t.scrollView&&t.scrollView.scrollTo({x:a,y:s,animated:r}),t.internals.isScrolling=!0,t.setState({autoplayEnd:!1}),r&&"ios"===T.a.OS||e((function(){t.onScrollEnd({nativeEvent:{position:i}})}))}},t.scrollTo=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(t.internals.isScrolling||t.state.total<2||n==t.state.index)){var o=t.state,i=t.state.index+(n-t.state.index),a=0,s=0;"x"===o.dir&&(a=i*o.width),"y"===o.dir&&(s=i*o.height),t.scrollView&&t.scrollView.scrollTo({x:a,y:s,animated:r}),t.internals.isScrolling=!0,t.setState({autoplayEnd:!1}),r&&"ios"===T.a.OS||e((function(){t.onScrollEnd({nativeEvent:{position:i}})}))}},t.scrollViewPropOverrides=function(){var e=t.props,n={};for(var r in e)"function"===typeof e[r]&&"onMomentumScrollEnd"!==r&&"renderPagination"!==r&&"onScrollBeginDrag"!==r&&function(){var o=e[r];n[r]=function(e){return o(e,t.fullState(),f()(t))}}();return n},t.renderPagination=function(){if(t.state.total<=1)return null;for(var e=[],n=t.props.activeDot||Object(E.jsx)(S.a,{style:[{backgroundColor:t.props.activeDotColor||"#007aff",width:8,height:8,borderRadius:4,marginLeft:3,marginRight:3,marginTop:3,marginBottom:3},t.props.activeDotStyle]}),r=t.props.dot||Object(E.jsx)(S.a,{style:[{backgroundColor:t.props.dotColor||"rgba(0,0,0,.2)",width:8,height:8,borderRadius:4,marginLeft:3,marginRight:3,marginTop:3,marginBottom:3},t.props.dotStyle]}),o=0;o<t.state.total;o++)e.push(o===t.state.index?y.a.cloneElement(n,{key:o}):y.a.cloneElement(r,{key:o}));return Object(E.jsx)(S.a,{pointerEvents:"none",style:[L["pagination_"+t.state.dir],t.props.paginationStyle],children:e})},t.renderTitle=function(){var e=t.state.children[t.state.index];return e&&e.props&&e.props.title?Object(E.jsx)(S.a,{style:L.title,children:t.state.children[t.state.index].props.title}):null},t.renderNextButton=function(){var e=null;return(t.props.loop||t.state.index!==t.state.total-1)&&(e=t.props.nextButton||Object(E.jsx)(w.a,{style:L.buttonText,children:"\u203a"})),Object(E.jsx)(C.a,{onPress:function(){return null!==e&&t.scrollBy(1)},disabled:t.props.disableNextButton,children:Object(E.jsx)(S.a,{children:e})})},t.renderPrevButton=function(){var e=null;return(t.props.loop||0!==t.state.index)&&(e=t.props.prevButton||Object(E.jsx)(w.a,{style:L.buttonText,children:"\u2039"})),Object(E.jsx)(C.a,{onPress:function(){return null!==e&&t.scrollBy(-1)},disabled:t.props.disablePrevButton,children:Object(E.jsx)(S.a,{children:e})})},t.renderButtons=function(){return Object(E.jsxs)(S.a,{pointerEvents:"box-none",style:[L.buttonWrapper,{width:t.state.width,height:t.state.height},t.props.buttonWrapperStyle],children:[t.renderPrevButton(),t.renderNextButton()]})},t.refScrollView=function(e){t.scrollView=e},t.onPageScrollStateChanged=function(e){switch(e){case"dragging":return t.onScrollBegin();case"idle":case"settling":t.props.onTouchEnd&&t.props.onTouchEnd()}},t.renderScrollView=function(e){return Object(E.jsx)(P.a,B(B(B({ref:t.refScrollView},t.props),t.scrollViewPropOverrides()),{},{contentContainerStyle:[L.wrapperIOS,t.props.style],contentOffset:t.state.offset,onScrollBeginDrag:t.onScrollBegin,onMomentumScrollEnd:t.onScrollEnd,onScrollEndDrag:t.onScrollEndDrag,style:t.props.scrollViewStyle,children:e}))},t}return u()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.autoplay&&this.autoplayTimer&&clearTimeout(this.autoplayTimer),e.index!==this.props.index&&this.setState(this.initState(e,this.props.index!==e.index))}},{key:"componentDidMount",value:function(){this.autoplay()}},{key:"componentWillUnmount",value:function(){this.autoplayTimer&&clearTimeout(this.autoplayTimer),this.loopJumpTimer&&clearTimeout(this.loopJumpTimer)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.state.index!==t.index&&this.props.onIndexChanged(t.index)}},{key:"componentDidUpdate",value:function(e){this.props.autoplay&&!e.autoplay&&this.autoplay(),this.props.children!==e.children&&(this.props.loadMinimal&&"ios"===T.a.OS?this.setState(B(B({},this.props),{},{index:this.state.index})):this.setState(this.initState(B(B({},this.props),{},{index:this.state.index}),!0)))}},{key:"initState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state||{width:0,height:0,offset:{x:0,y:0}},r={autoplayEnd:!1,children:null,loopJump:!1,offset:{}};r.children=Array.isArray(e.children)?e.children.filter((function(e){return e})):e.children,r.total=r.children?r.children.length||1:0,n.total!==r.total||t?r.index=r.total>1?Math.min(e.index,r.total-1):0:r.index=n.index;var o=k.a.get("window"),i=o.width,a=o.height;return r.dir=!1===e.horizontal?"y":"x",e.width?r.width=e.width:this.state&&this.state.width?r.width=this.state.width:r.width=i,e.height?r.height=e.height:this.state&&this.state.height?r.height=this.state.height:r.height=a,r.offset[r.dir]="y"===r.dir?a*e.index:i*e.index,this.internals=B(B({},this.internals),{},{isScrolling:!1}),r}},{key:"fullState",value:function(){return o()({},this.state,this.internals)}},{key:"render",value:function(){var e=this.state,t=e.index,n=e.total,r=e.width,o=e.height,i=e.children,a=this.props,s=a.containerStyle,c=a.loop,l=a.loadMinimal,u=a.loadMinimalSize,d=a.loadMinimalLoader,f=a.renderPagination,p=a.showsButtons,h=a.showsPagination,b=c?1:0,g=[],j=[{width:r,height:o},L.slide],O={width:r,height:o,flex:1,justifyContent:"center",alignItems:"center"};return n>1?(g=Object.keys(i),c&&(g.unshift(n-1+""),g.push("0")),g=g.map((function(e,r){return l?r>=t+b-u&&r<=t+b+u||c&&1===r||c&&r===n-1?Object(E.jsx)(S.a,{style:j,children:i[e]},r):Object(E.jsx)(S.a,{style:O,children:d||Object(E.jsx)(D.a,{})},r):Object(E.jsx)(S.a,{style:j,children:i[e]},r)}))):g=Object(E.jsx)(S.a,{style:j,children:i},0),Object(E.jsxs)(S.a,{style:[L.container,s],onLayout:this.onLayout,children:[this.renderScrollView(g),h&&(f?f(t,n,this):this.renderPagination()),this.renderTitle(),p&&this.renderButtons()]})}}]),r}(m.Component);N.propTypes={horizontal:v.a.bool,children:v.a.node.isRequired,containerStyle:v.a.oneOfType([v.a.object,v.a.number]),style:v.a.oneOfType([v.a.object,v.a.number,v.a.array]),scrollViewStyle:v.a.oneOfType([v.a.object,v.a.number]),pagingEnabled:v.a.bool,showsHorizontalScrollIndicator:v.a.bool,showsVerticalScrollIndicator:v.a.bool,bounces:v.a.bool,scrollsToTop:v.a.bool,removeClippedSubviews:v.a.bool,automaticallyAdjustContentInsets:v.a.bool,showsPagination:v.a.bool,showsButtons:v.a.bool,disableNextButton:v.a.bool,disablePrevButton:v.a.bool,loadMinimal:v.a.bool,loadMinimalSize:v.a.number,loadMinimalLoader:v.a.element,loop:v.a.bool,autoplay:v.a.bool,autoplayTimeout:v.a.number,autoplayDirection:v.a.bool,index:v.a.number,renderPagination:v.a.func,dotStyle:v.a.oneOfType([v.a.object,v.a.number,v.a.array]),activeDotStyle:v.a.oneOfType([v.a.object,v.a.number,v.a.array]),dotColor:v.a.string,activeDotColor:v.a.string,onIndexChanged:v.a.func},N.defaultProps={horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,bounces:!1,scrollsToTop:!1,removeClippedSubviews:!0,automaticallyAdjustContentInsets:!1,showsPagination:!0,showsButtons:!1,disableNextButton:!1,disablePrevButton:!1,loop:!0,loadMinimal:!1,loadMinimalSize:1,autoplay:!1,autoplayTimeout:2.5,autoplayDirection:!0,index:0,onIndexChanged:function(){return null}}}).call(this,n(474).setImmediate)},252:function(e,t,n){"use strict";n.d(t,"a",(function(){return tn}));var r=n(254),o=n(542),i=n(7),a=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(523),f=n(539),p=n(158),h=n(0),b=n.n(h);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=n(257);function m(){return Object(O.a)()}var y=n(88),x=n.n(y),v=n(537),w=n(533),S=n(534),P=n(116),k=n(538),C={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}},T=n(8),D=n(22),E=n(11),I=n.n(E),B=n(10),R=n(3),L=n(1),N=["style","lightColor","darkColor"],z=["style","lightColor","darkColor"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n=m(),r=e[n];return r||C[n][t]}function G(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=I()(e,N),i=M({light:n,dark:r},"text");return Object(L.jsx)(B.a,A({style:[{color:i},t]},o))}function U(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=I()(e,z),i=M({light:n,dark:r},"background");return Object(L.jsx)(R.a,A({style:[{backgroundColor:i},t]},o))}function H(e){var t=e.navigation;return Object(L.jsxs)(U,{style:V.container,children:[Object(L.jsx)(G,{style:V.title,children:"This screen doesn't exist."}),Object(L.jsx)(D.a,{onPress:function(){return t.replace("Root")},style:V.link,children:Object(L.jsx)(G,{style:V.linkText,children:"Go to home screen!"})})]})}var V=T.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),W=n(12),Y=n(525),q=n(29),K=b.a.createContext({isShowSearch:!1,setIsShowSearch:function(){}}),F=n(13),J=n.n(F),Q=n(14),Z=n.n(Q),X=n(34),$=n.n(X),ee=n(152),te=n.n(ee),ne="\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09!",re="\u7528\u6237\u5f97\u5230\u6388\u6743\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002!",oe="\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef,\u672a\u627e\u5230\u8be5\u8d44\u6e90!",ie="\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef,\u8bf7\u6c42\u65b9\u6cd5\u672a\u5141\u8bb8!",ae="\u7f51\u7edc\u8bf7\u6c42\u8d85\u65f6!",se="\u670d\u52a1\u5668\u9519\u8bef,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458!",ce="\u7f51\u7edc\u672a\u5b9e\u73b0!",le="\u7f51\u7edc\u9519\u8bef!",ue="\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u670d\u52a1\u5668\u6682\u65f6\u8fc7\u8f7d\u6216\u7ef4\u62a4!",de="\u7f51\u7edc\u8d85\u65f6!",fe="http\u7248\u672c\u4e0d\u652f\u6301\u8be5\u8bf7\u6c42!",pe="\u63a5\u53e3\u8bf7\u6c42\u8d85\u65f6,\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5!",he="\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6b63\u5e38!";function be(e){return e}function ge(e){return e}function je(e){var t,n,r,o,i=e||{},a=i.response,s=i.code,c=i.message,l=null!=(t=null==a||null==(n=a.data)?void 0:n.title)?t:"",u=null!=(r=null==e||null==e.toString?void 0:e.toString())?r:"",d="";try{if("ECONNABORTED"===s&&-1!==c.indexOf("timeout")&&(d=pe),null!=u&&u.includes("Network Error")&&(d=he),d)return W.m.show({content:d,position:"top"}),Promise.reject(e)}catch(f){throw new Error(f)}return function(e,t){var n="";switch(e){case 400:n=t;break;case 401:n=ne;break;case 403:n=re;break;case 404:n=oe;break;case 405:n=ie;break;case 408:n=ae;break;case 500:n=se;break;case 501:n=ce;break;case 502:n=le;break;case 503:n=ue;break;case 504:n=de;break;case 505:n=fe}n&&W.m.show({content:n,position:"top"})}(null==e||null==(o=e.response)?void 0:o.status,l),Promise.reject(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var me,ye=new(function(){function e(t){J()(this,e),this.instance=te.a.create(t),this.setupInterceptors()}return Z()(e,[{key:"createHttp",value:function(e){this.instance=te.a.create(e)}},{key:"setupInterceptors",value:function(){this.instance.interceptors.request.use(be,void 0),this.instance.interceptors.request.use(void 0,(function(){})),this.instance.interceptors.response.use(ge,void 0),this.instance.interceptors.response.use(void 0,je)}},{key:"getHttp",value:function(){return this.instance}},{key:"configHttp",value:function(e){this.instance&&this.createHttp(e)}},{key:"setHeader",value:function(e){this.instance&&$()(this.instance.defaults.headers,e)}},{key:"get",value:function(e){return this.request({url:e,method:"GET"})}},{key:"request",value:function(e){var t=this;return new Promise((function(n,r){t.instance.request(e).then((function(e){var t=function(e){return e.data}(e);n(t)})).catch((function(e){r(e)}))}))}}]),e}())(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({baseURL:"/"},me)),xe=new(function(){function e(){J()(this,e)}return Z()(e,[{key:"ForYouRecommend",value:function(){return ye.get("/recommend/playlist/u")}},{key:"CategoryRecommend",value:function(){return ye.get("/recommend/playlist")}},{key:"DailyRecommend",value:function(){return ye.get("/recommend/daily")}},{key:"TopRankCategory",value:function(){return ye.get("/top/category")}},{key:"HotSearch",value:function(){return ye.get("/search/hot")}},{key:"SongListCategory",value:function(){return ye.get("/songlist/category")}},{key:"RecommendBanner",value:function(){return ye.get("/recommend/banner")}},{key:"SingerCateGory",value:function(){return ye.get("/singer/category")}},{key:"GetSingerList",value:function(e){return ye.request({url:"/singer/list",method:"GET",params:e})}},{key:"getNewSongs",value:function(e){return ye.request({url:"/new/songs",method:"GET",params:e})}},{key:"SearchSong",value:function(e){return ye.request({url:"/search",method:"GET",params:e})}},{key:"TopRankDetails",value:function(e){return ye.request({url:"/top",method:"GET",params:e})}},{key:"GetSongList",value:function(e){return ye.request({url:"/songlist/list",method:"GET",params:e})}},{key:"GetSongListDetails",value:function(e){return ye.request({url:"/songlist",method:"GET",params:e})}},{key:"getSongDetails",value:function(e){return ye.request({url:"/song",method:"GET",params:e})}},{key:"GetSongLyric",value:function(e){return ye.request({url:"/lyric",method:"GET",params:e})}},{key:"GetSongPlayUrl",value:function(e){return ye.request({url:"/song/urls",method:"GET",params:e})}},{key:"UserSetCookie",value:function(e){return ye.request({url:"/user/setCookie",method:"POST",data:e})}},{key:"UserGetCookie",value:function(e){return ye.request({url:"/user/getCookie",method:"get",params:e})}},{key:"UserLookCookie",value:function(){return ye.request({url:"/user/cookie",method:"get"})}},{key:"GetUserInfo",value:function(e){return ye.request({url:"/user/detail",method:"get",params:e})}},{key:"GetUserCollectSongList",value:function(e){return ye.request({url:"/user/collect/songlist",method:"get",params:e})}},{key:"GetUserCreateSongList",value:function(e){return ye.request({url:"/user/songlist",method:"get",params:e})}},{key:"GetUserCollectAlbum",value:function(e){return ye.request({url:"/user/collect/album",method:"get",params:e})}},{key:"GetRadioCaregory",value:function(){return ye.request({url:"/radio/category",method:"get"})}},{key:"GetRadioSong",value:function(e){return ye.request({url:"/radio",method:"get",params:e})}}]),e}());var ve=n(234),we="#22d59c";function Se(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1];return Object(h.useEffect)((function(){xe.RecommendBanner().then((function(e){r(e.data)}))}),[]),Object(L.jsx)(ve.a,{style:{height:150},loop:!0,autoplay:!0,showsPagination:!1,activeDotColor:we,children:n.map((function(e){return Object(L.jsx)(W.b,{width:"100%",src:e.picUrl},e.id)}))})}var Pe=n(27);function ke(e){var t=e.data,n=e.itemTouchEnd;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(R.a,{style:Ce.titleContainer,children:Object(L.jsx)(B.a,{style:Ce.title,children:t.title})}),Object(L.jsx)(Pe.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,style:Ce.playContainer,children:t.playList&&t.playList.map((function(e){return Object(L.jsxs)(D.a,{style:Ce.playItem,onPress:function(){return function(e){n&&n(e)}(e)},children:[Object(L.jsxs)(R.a,{style:Ce.playImg,children:[Object(L.jsx)(W.b,{src:e.cover||e.cover_url_big,width:100,height:100,style:{borderRadius:10}}),Object(L.jsxs)(B.a,{style:Ce.playNum,children:[((e.listen_num||e.access_num)/1e4).toFixed(1),"\u4e07"]})]}),Object(L.jsx)(B.a,{style:Ce.playTitle,children:e.title})]},e.tid||e.content_id)}))})]})}var Ce=T.a.create({titleContainer:{paddingTop:10,paddingBottom:10,fontSize:18},title:{fontSize:18,fontWeight:"600"},playContainer:{height:150},playItem:{width:100,overflow:"hidden",marginRight:10},playImg:{position:"relative"},playNum:{position:"absolute",bottom:5,right:5,color:"white"},playTitle:{fontSize:12,color:"#666",lineHeight:20,marginTop:5}});function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=[{id:1,title:"\u6b4c\u624b",icon:function(e){return Object(L.jsx)("svg",De(De({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2150",width:"50",height:"50"},e),{},{children:Object(L.jsx)("path",{d:"M956.098517 789.181927c-14.806217-42.936905-63.826678-49.086975-104.791671-66.37471-44.98761-18.957771-94.855368-40.97625-139.734508-59.392692-12.80463-3.481288-25.620517-6.982018-38.425148-10.475586-15.286148-10.522658-30.250978-45.488007-38.425148-62.873979-8.15268-1.159406-16.296151-2.320858-24.459065-3.481288 1.25969-26.900673 17.906835-28.351722 24.459065-48.898687 5.763261-18.138102 0.592494-41.697681 9.733689-58.472739 6.343475-11.645225 20.678972-11.735275 27.841092-21.719674 6.503111-9.073656 10.784624-24.870434 12.80463-35.985586 3.702322-20.287045 6.922666-48.066739-2.710738-68.185962-5.542226-11.573593-9.042957-12.673647-10.584056-26.720571-1.870604-17.007349 5.021364-72.499198 5.302773-84.492346 0.700965-31.132044-0.049119-33.653471-7.582699-63.97608 0 0-9.154497-27.470655-23.48897-35.743062l-28.580942-4.92108-17.667382-16.367783c-71.179133-43.805692-147.499355-13.07376-188.365088 3.483334-58.903551 19.107173-96.137571 76.788897-70.136384 199.9878 4.442172 21.039175-11.524474 30.451546-10.483772 41.926902 2.279926 25.120121 2.77009 85.48393 26.499537 100.358709 2.200108 1.370207 19.027355 5.593392 18.918885 4.442172 2.329045 24.450878 4.66116 48.919153 6.982018 73.359798 5.931083 16.255219 20.137643 18.037818 24.267706 40.986483l-18.185174 4.421706c-8.175193 17.385972-23.149233 52.351322-38.435381 62.873979-12.80463 3.493567-25.620517 6.994298-38.414915 10.475586-44.887326 18.416442-94.757131 40.434921-139.744741 59.392692-40.955784 17.287735-89.985454 23.437805-104.802928 66.37471 0 29.16218-2.739391 98.038874-1.989307 136.234801l391.601886 0 28.752858-196.35711-23.899316-50.439786 55.17053-26.452465 46.479591 25.911136-25.620517 51.940976 45.307905 195.396225 374.406249 0C958.858374 887.2208 956.098517 818.344107 956.098517 789.181927z","p-id":"2151"})}))},pathName:"SingerPage"},{id:2,title:"\u6392\u884c",icon:function(e){return Object(L.jsxs)("svg",Ie(Ie({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4378",width:"50",height:"50"},e),{},{children:[Object(L.jsx)("path",{d:"M288 288 160 288c-17.664 0-32 14.336-32 32l0 544c0 17.696 14.336 32 32 32l128 0c17.664 0 32-14.304 32-32L320 320C320 302.336 305.664 288 288 288z","p-id":"4379"}),Object(L.jsx)("path",{d:"M576 480l-128 0c-17.664 0-32 14.336-32 32l0 352c0 17.696 14.336 32 32 32l128 0c17.696 0 32-14.304 32-32L608 512C608 494.336 593.696 480 576 480z","p-id":"4380"}),Object(L.jsx)("path",{d:"M864 128l-128 0c-17.696 0-32 14.336-32 32l0 704c0 17.696 14.304 32 32 32l128 0c17.696 0 32-14.304 32-32L896 160C896 142.336 881.696 128 864 128z","p-id":"4381"})]}))},pathName:"SongRankPage"},{id:3,title:"\u5206\u7c7b",icon:function(e){return Object(L.jsxs)("svg",Re(Re({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5818",width:"50",height:"50"},e),{},{children:[Object(L.jsx)("path",{d:"M429.849 556.917H138.048c-20.435 0-37 16.565-37 37v291.801c0 20.435 16.565 37 37 37h291.801c20.435 0 37-16.565 37-37V593.917c0-20.435-16.566-37-37-37zM429.849 101.283H138.048c-20.435 0-37 16.565-37 37v291.801c0 20.435 16.565 37 37 37h291.801c20.435 0 37-16.565 37-37V138.283c0-20.435-16.566-37-37-37zM885.952 556.917H594.151c-20.435 0-37 16.565-37 37v291.801c0 20.435 16.565 37 37 37h291.801c20.435 0 37-16.565 37-37V593.917c0-20.435-16.565-37-37-37z","p-id":"5819"}),Object(L.jsx)("path",{d:"M594.522151 429.713456a192.387 192.387 0 1 0 272.071556-272.081054 192.387 192.387 0 1 0-272.071556 272.081054Z","p-id":"5820"})]}))},pathName:"SongSortPage"},{id:4,title:"\u7535\u53f0",icon:function(e){return Object(L.jsx)("svg",Ne(Ne({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6838",width:"50",height:"50"},e),{},{children:Object(L.jsx)("path",{d:"M853.333333 256C900.266667 256 938.666667 294.4 938.666667 341.333333L938.666667 853.333333C938.666667 900.266667 900.266667 938.666667 853.333333 938.666667L170.666667 938.666667C123.733333 938.666667 85.333333 900.266667 85.333333 853.333333L85.333333 341.333333C85.333333 305.066667 107.946667 273.92 139.946667 261.546667L670.293333 42.666667 702.72 120.746667 376.746667 256 853.333333 256M853.333333 341.333333 170.666667 341.333333 170.666667 512 682.666667 512 682.666667 426.666667 768 426.666667 768 512 853.333333 512 853.333333 341.333333M298.666667 597.333333C227.84 597.333333 170.666667 654.506667 170.666667 725.333333 170.666667 796.16 227.84 853.333333 298.666667 853.333333 369.493333 853.333333 426.666667 796.16 426.666667 725.333333 426.666667 654.506667 369.493333 597.333333 298.666667 597.333333Z","p-id":"6839"})}))},pathName:"RadioPage"}];function _e(e){x()(e);var t=Object(q.o)(),n=Object(h.useContext)(K).setIsShowSearch,r=function(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1];return Object(h.useEffect)((function(){Promise.all([xe.CategoryRecommend(),xe.ForYouRecommend()]).then((function(e){r([{title:"\u5b98\u65b9\u6b4c\u5355",playList:e[0].data.list},{title:"\u8fbe\u4eba\u6b4c\u5355",playList:e[1].data.list}])}))}),[]),{playListData:n}}().playListData;function o(e){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{t.navigate("SongListPage",{id:e.tid||e.content_id,title:e.title,imgUrl:e.cover||e.cover_url_big,subTitle:e.username||(null==(n=e.creator_info)?void 0:n.nick),message:"\u64ad\u653e\u91cf\uff1a"+(e.access_num||e.listen_num)})}catch(o){}case 1:case"end":return r.stop()}}),null,null,null,Promise)}return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(R.a,{style:{padding:20},children:Object(L.jsx)(W.a,{shape:"rounded",onClick:function(){n(!0)},children:Object(L.jsxs)(W.j,{children:[Object(L.jsx)(Y.a,{}),Object(L.jsx)("span",{children:"\u641c\u7d22"})]})})}),Object(L.jsx)(Se,{}),Object(L.jsxs)(R.a,{style:{padding:20,backgroundColor:"#fff"},children:[Object(L.jsx)(R.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:ze.map((function(e,n){return Object(L.jsxs)(D.a,{onPress:function(){return n=e.pathName,void t.navigate(n);var n},children:[Object(L.jsx)(e.icon,{style:{fill:we}}),Object(L.jsx)(B.a,{style:{textAlign:"center"},children:e.title})]},n)}))}),r.map((function(e){return Object(L.jsx)(ke,{data:e,itemTouchEnd:o},e.title)}))]})]})}var Ae=n(45),Me=n(93),Ge=new(function(){function e(){J()(this,e)}return Z()(e,[{key:"getItem",value:function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Me.a.getItem(e));case 2:return t=n.sent,n.abrupt("return",t?JSON.parse(t):null);case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"setItem",value:function(e,t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Me.a.setItem(e,JSON.stringify(t)));case 2:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"removeItem",value:function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(Me.a.removeItem(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},{key:"clear",value:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(Me.a.clear());case 2:case"end":return e.stop()}}),null,null,null,Promise)}}]),e}());function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(){var e=Object(q.o)(),t=function(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1],o=Object(h.useState)([]),i=c()(o,2),s=i[0],l=i[1],d=Object(h.useState)([]),f=c()(d,2),p=f[0],b=f[1];function g(e){for(var t={},n=function(n){var r=e[n].topId;if(201===r)return"continue";t[r]=e[n],xe.TopRankDetails({id:r,pageSize:3}).then((function(e){b((function(n){return He(He({},n),{},a()({},r,He(He({},t[r]),e.data)))}))}))},r=0;r<e.length;r++)n(r)}return Object(h.useEffect)((function(){!function(){var e,t,n,o;u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u.a.awrap(Ge.getItem("RANK_SONG_LIST_KEY"));case 2:if(!(e=i.sent)){i.next=7;break}t=e,i.next=11;break;case 7:return i.next=9,u.a.awrap(xe.TopRankCategory());case 9:n=i.sent,Ge.setItem("RANK_SONG_LIST_KEY",n);case 11:o=t.data.reduce((function(e,t){return e.concat(t.list)}),[]),r(o),l(o.filter((function(e){return[60,67,63].includes(e.topId)}))),g(t.data[0].list);case 15:case"end":return i.stop()}}),null,null,null,Promise)}()}),[]),{allRankList:n,recommendRanckList:s,topRanckMap:p}}().topRanckMap;return Object(L.jsx)(Pe.a,{style:We.container,children:Object.values(t).map((function(t){return Object(L.jsxs)(D.a,{style:We.item,onPress:function(){return n=t,void e.navigate("SongListPage",{id:n.topId,imgUrl:n.picUrl,title:n.info.title,subTitle:n.info.titleDetail,message:"\u66f4\u65b0\u65f6\u95f4\uff1a"+n.period,type:"Rank"});var n},children:[Object(L.jsxs)(U,{style:We.desc,children:[Object(L.jsx)(G,{style:We.label,children:t.label}),t.list&&t.list.slice(0,3).map((function(e,t){return Object(L.jsxs)(U,{style:We.song,children:[Object(L.jsxs)(G,{style:We.index,children:[t+1,"."]}),Object(L.jsxs)(G,{style:We.songTitle,children:[e.title,"-"]}),Object(L.jsx)(G,{style:We.singerName,children:e.singerName})]},e.id)}))]}),Object(L.jsxs)(U,{style:We.itemBox,children:[Object(L.jsx)("img",{src:t.picUrl,width:180,style:{position:"absolute",top:-40,left:-40}}),Object(L.jsxs)(G,{style:We.listenNum,children:[(t.listenNum/1e4).toFixed(1),"\u4e07"]})]})]},t.id)}))})}var We=T.a.create({container:{flex:1,paddingTop:Ae.a.currentHeight,overflow:"scroll",padding:20},item:{flexDirection:"row",justifyContent:"space-between",borderRadius:10,overflow:"hidden",marginBottom:10,backgroundColor:"white"},desc:{padding:10,flex:1},itemBox:{position:"relative",width:100,overflow:"hidden"},listenNum:{position:"absolute",bottom:5,right:5,color:"white"},label:{fontSize:16,fontWeight:"600"},song:{flexDirection:"row",marginTop:5},index:{fontWeight:"600",fontSize:12},songTitle:{fontSize:12},singerName:{color:"#999",fontSize:12}}),Ye=n(15),qe=n.n(Ye),Ke=n(526);function Fe(e){return e.reduce((function(e,t){return e+t.name+" "}),"")}function Je(){var e=Object(h.useContext)(K).setIsShowSearch,t=Object(h.useState)([]),n=c()(t,2),r=n[0],o=n[1],i=Object(h.useState)([]),a=c()(i,2),s=a[0],l=a[1],d=Object(h.useState)(""),f=c()(d,2),p=f[0],b=f[1],g=Object(h.useState)(!0),j=c()(g,2),O=j[0],m=j[1],y=Object(h.useState)([]),x=c()(y,2),v=x[0],w=x[1],S=Object(q.o)();function P(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(Ge.getItem("SEARCH_HISTORY_KEY"));case 2:if(!(e=t.sent)){t.next=5;break}return t.abrupt("return",JSON.parse(e));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),null,null,null,Promise)}function k(e){var t,n,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(b(e),m(!e),!e){o.next=10;break}return o.next=5,u.a.awrap(P());case 5:(t=o.sent).unshift(e),n=qe()(new Set(t)),Ge.setItem("SEARCH_HISTORY_KEY",n),w(n);case 10:return o.prev=10,o.next=13,u.a.awrap(xe.SearchSong({key:e}));case 13:r=o.sent,l(r.data.list),o.next=19;break;case 17:o.prev=17,o.t0=o.catch(10);case 19:case"end":return o.stop()}}),null,null,[[10,17]],Promise)}return Object(h.useEffect)((function(){try{xe.HotSearch().then((function(e){o(e.data)}))}catch(e){}P().then((function(e){w(e)}))}),[]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(R.a,{style:Ze.searchBox,children:[Object(L.jsx)(W.i,{value:p,onChange:function(e){return b(e)},onSearch:k,onClear:function(){b(""),m(!0)},placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",style:{"--border-radius":"100px","--background":"#fff",width:"85%"}}),Object(L.jsx)(D.a,{onPress:function(){setTimeout((function(){m(!0),b(""),e(!1)}))},children:Object(L.jsx)(B.a,{style:Ze.cancelText,children:"\u53d6\u6d88"})})]}),Object(L.jsxs)(Pe.a,{style:Ze.hotSearch,children:[!!v.length&&O&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(R.a,{style:{height:30,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:15},children:[Object(L.jsx)(B.a,{style:[Ze.title,{marginBottom:0}],children:"\u641c\u7d22\u5386\u53f2"}),Object(L.jsx)(Ke.a,{onClick:function(){Ge.removeItem("SEARCH_HISTORY_KEY"),w([])}})]}),Object(L.jsx)(R.a,{style:Ze.hostWords,children:v.map((function(e,t){return Object(L.jsx)(D.a,{onPress:function(){return k(e)},children:Object(L.jsx)(B.a,{style:Ze.word,children:e})},t)}))})]}),O&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(B.a,{style:Ze.title,children:"\u70ed\u95e8\u641c\u7d22"}),Object(L.jsx)(R.a,{style:Ze.hostWords,children:r.map((function(e){return Object(L.jsx)(D.a,{onPress:function(){return k(e.k)},children:Object(L.jsx)(B.a,{style:Ze.word,children:e.k})},e.n)}))})]}),!O&&Object(L.jsx)(R.a,{style:Ze.songs,children:s.map((function(e){return Object(L.jsxs)(D.a,{onPress:function(){return t=e,void S.navigate("SongPage",{cover:t.cover,title:t.songname,mid:t.songmid,singerName:Fe(t.singer)});var t},children:[Object(L.jsx)(B.a,{style:Ze.songname,children:e.songname}),Object(L.jsx)(B.a,{style:Ze.singer,children:e.singer.reduce((function(e,t){return e+t.name+" "}),"")})]},e.songid)}))})]})]})}var Qe,Ze=T.a.create({searchBox:{padding:20,flexDirection:"row",justifyContent:"space-between"},cancelText:{marginLeft:10,fontSize:16,lineHeight:30},hotSearch:{padding:20,paddingTop:0},title:{fonSize:14,fontWeight:"700",marginBottom:15},hostWords:{flexDirection:"row",flexWrap:"wrap",marginBottom:15},word:{backgroundColor:"white",borderRadius:100,paddingTop:2,paddingBottom:2,paddingLeft:8,paddingRight:8,marginRight:10,marginBottom:10,color:"#666",fontWeight:"300"},songs:{paddingLeft:10},songname:{fontSize:16,fontWeight:"400",marginBottom:2},singer:{fontSize:10,color:"#999",marginBottom:10}}),Xe=n(253);!function(e){e.Recommend="RecommendPlayList",e.Rank="RankPlayList"}(Qe||(Qe={}));var $e=Object(Xe.a)((function(){var e=Object(h.useState)(Qe.Recommend),t=c()(e,2),n=t[0],r=t[1],o=Object(h.useState)(!1),i=c()(o,2),a=i[0],s=i[1],l={isShowSearch:a,setIsShowSearch:s};return Object(h.useEffect)((function(){n===Qe.Rank&&s(!1)}),[n]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(W.k,{style:{"--title-font-size":"20px",backgroundColor:"white",boxShadow:"1px 1px 10px #ddd",zIndex:1},activeKey:n,onChange:function(e){return r(e)},children:[Object(L.jsx)(W.k.Tab,{title:"\u63a8\u8350"},Qe.Recommend),Object(L.jsx)(W.k.Tab,{title:"\u6392\u884c"},Qe.Rank)]}),Object(L.jsx)(Pe.a,{style:{height:"100%",backgroundColor:"rgb(245, 245, 245)"},children:Object(L.jsxs)(K.Provider,{value:l,children:[Object(L.jsx)(R.a,{style:!a&&{display:"none"},children:Object(L.jsx)(Je,{})}),Object(L.jsx)(R.a,{style:a&&{display:"none"},children:n===Qe.Recommend?Object(L.jsx)(_e,{}):Object(L.jsx)(Ve,{})})]})})]})})),et=n(527),tt=n(524),nt=new(function(){function e(t){J()(this,e),this.days=1,this.days=t.days}return Z()(e,[{key:"getCookie",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=n.match(r))?decodeURI(t[2]):null}},{key:"delCookie",value:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toUTCString())}},{key:"setCookie",value:function(e,t){var n=new Date;n.setTime(n.getTime()+24*this.days*60*60*1e3),document.cookie=e+"="+encodeURI(t)+";expires="+n.toUTCString()}},{key:"parseCookie",value:function(e){return e.split("; ").map((function(e){return e.split("=")}))}}]),e}())({days:1});function rt(e){var t=e.visible,n=e.setVisible,r=e.setAccount,o=Object(h.useState)(""),i=c()(o,2),a=i[0],s=i[1],l=Object(h.useState)(""),d=c()(l,2),f=d[0],p=d[1];return Object(h.useEffect)((function(){!function(){var e,t;u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Ge.getItem("ACCOUNT_KEY"));case 2:return e=n.sent,n.next=5,u.a.awrap(Ge.getItem("COOKIE_KEY"));case 5:t=n.sent,e&&p(e),t&&s(t);case 8:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),Object(L.jsxs)(W.g,{visible:t,onMaskClick:function(){n(!1)},position:"right",bodyStyle:{minWidth:"100vw"},children:[Object(L.jsx)(W.f,{onBack:function(){return n(!1)},style:{"--height":"60px"},children:"\u8bbe\u7f6eCookie"}),Object(L.jsxs)(R.a,{style:ot.form,children:[Object(L.jsxs)(R.a,{style:ot.formItem,children:[Object(L.jsxs)(R.a,{style:ot.formInput,children:[Object(L.jsx)(B.a,{style:ot.label,children:"Cookie:"}),Object(L.jsx)(W.d,{value:a,onChange:function(e){return s(e)},placeholder:"\u8bf7\u586b\u5165QQ\u97f3\u4e50Cookie",clearable:!0})]}),Object(L.jsx)(B.a,{style:ot.itemNotify,children:"\u76ee\u524d\u65e0\u6cd5\u76f4\u63a5\u8c03\u7528\u767b\u5f55\u63a5\u53e3\uff0c\u53ea\u80fd\u5728QQ\u97f3\u4e50\u4e2d\u83b7\u53d6cookie\u540e\u7c98\u8d34\u5230\u6b64\u5904\u8bbe\u7f6e"}),Object(L.jsx)(W.a,{color:"primary",onClick:function(){var e={};nt.parseCookie(a).forEach((function(t){var n=c()(t,2),r=n[0],o=n[1];e[r]=o,nt.setCookie(r,o)})),Ge.setItem("COOKIE_KEY",e),W.m.show({content:"Cookie\u8bbe\u7f6e\u6210\u529f\uff01",position:"top"}),n(!1)},children:"\u8bbe\u7f6eCookie"})]}),Object(L.jsxs)(R.a,{style:ot.formItem,children:[Object(L.jsxs)(R.a,{style:ot.formInput,children:[Object(L.jsx)(B.a,{style:ot.label,children:"QQ:"}),Object(L.jsx)(W.d,{value:f,onChange:function(e){return p(e)},placeholder:"\u8bf7\u586b\u5165QQ\u53f7",clearable:!0})]}),Object(L.jsx)(B.a,{style:ot.itemNotify,children:"\u586b\u5199QQ\u53f7\u4ec5\u9650\u4e8e\u83b7\u53d6\u8d26\u53f7\u6536\u85cf\u6b4c\u5355\u548c\u521b\u5efa\u6b4c\u5355"}),Object(L.jsxs)(R.a,{style:ot.btnBox,children:[Object(L.jsx)(W.a,{style:{flex:1},color:"primary",onClick:function(){Ge.setItem("ACCOUNT_KEY",f),r(f),W.m.show({content:"\u8d26\u53f7\u8bbe\u7f6e\u6210\u529f\uff01",position:"top"}),n(!1)},children:"\u83b7\u53d6QQ\u6b4c\u5355"}),Object(L.jsx)(W.a,{style:{width:"30%",marginLeft:20},onClick:function(){Ge.removeItem("ACCOUNT_KEY"),W.m.show({content:"\u8d26\u53f7\u5df2\u79fb\u9664\uff01",position:"top"}),n(!1),r("")},children:"\u6e05\u9664"})]})]})]})]})}var ot=T.a.create({form:{paddingLeft:20,paddingRight:20},formItem:{marginTop:20},formInput:{flexDirection:"row"},label:{width:90,fontSize:16,fontWeight:"500"},itemNotify:{paddingTop:20,paddingBottom:20,fontSize:12,color:"#999"},btnBox:{flexDirection:"row"}});function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(){var e=Object(h.useState)({}),t=c()(e,2),r=t[0],o=t[1],i=Object(h.useState)([]),a=c()(i,2),s=a[0],l=a[1],d=Object(h.useState)([]),f=c()(d,2),p=f[0],b=f[1],g=Object(q.o)(),j=Object(h.useState)(!1),O=c()(j,2),m=O[0],y=O[1];function x(){var e,t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(Ge.getItem("ACCOUNT_KEY"));case 2:return e=r.sent,r.next=5,u.a.awrap(Ge.getItem("COOKIE_KEY"));case 5:if(t=r.sent,e||t){r.next=8;break}return r.abrupt("return");case 8:n=e||t.uin,xe.GetUserCreateSongList({id:n}).then((function(e){var t,n=e.data.list;n.shift(),o((null==(t=e.data)?void 0:t.creator)||{}),l(n)})),xe.GetUserCollectSongList({id:n}).then((function(e){b(e.data.list)})),xe.GetUserInfo({id:n}).then((function(e){o((function(t){var n,r,o,i;return at(at({},t),{},{bgUrl:null==e||null==(n=e.data)||null==(r=n.creator)?void 0:r.backpic.picurl,headUrl:null==e||null==(o=e.data)||null==(i=o.creator)?void 0:i.headpic})}))}));case 12:case"end":return r.stop()}}),null,null,null,Promise)}return Object(h.useEffect)((function(){x()}),[]),Object(L.jsxs)(R.a,{style:ct.container,children:[Object(L.jsx)(rt,{visible:m,setVisible:y,setAccount:function(e){e?x():(o({}),l([]))}}),Object(L.jsxs)(R.a,{style:ct.topBox,children:[Object(L.jsx)(W.b,{style:ct.topBg,src:r.bgUrl||n(487)}),Object(L.jsxs)(R.a,{style:ct.topContent,children:[Object(L.jsxs)(D.a,{style:ct.userHead,onPress:function(){y(!0)},children:[!r.headUrl&&Object(L.jsx)(et.a,{fontSize:50}),r.headUrl&&Object(L.jsx)(W.b,{width:80,height:80,style:{borderRadius:100},src:r.headUrl})]}),Object(L.jsx)(B.a,{style:ct.userName,children:r.hostname})]})]}),Object(L.jsx)(Pe.a,{style:ct.songListBox,children:[["\u6211\u7684\u6b4c\u5355",s],["\u6536\u85cf\u6b4c\u5355",p]].map((function(e){var t=c()(e,2),n=t[0],o=t[1];return Object(L.jsxs)(R.a,{style:{marginBottom:20},children:[Object(L.jsxs)(B.a,{style:ct.songListTitle,children:[n," ",o.length]}),o.map((function(e){return Object(L.jsxs)(D.a,{style:ct.songListItem,onPress:function(){return function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:g.navigate("SongListPage",{id:e.tid||e.dissid,title:e.diss_name||e.dissname,imgUrl:e.diss_cover||e.logo,subTitle:e.nickname||r.hostname,message:"\u64ad\u653e\u91cf\uff1a"+(e.listen_num||e.listennum)});case 1:case"end":return t.stop()}}),null,null,null,Promise)}(e)},children:[Object(L.jsxs)(R.a,{style:ct.itemInfo,children:[Object(L.jsx)(W.b,{style:{borderRadius:10},width:60,height:60,src:e.diss_cover||e.logo}),Object(L.jsxs)(R.a,{style:ct.infoBox,children:[Object(L.jsx)(B.a,{style:ct.songName,children:e.diss_name||e.dissname}),Object(L.jsxs)(B.a,{style:ct.songCount,children:[Object(L.jsxs)(B.a,{style:{marginRight:5},children:[e.song_cnt||e.songnum,"\u9996"]}),Object(L.jsxs)(B.a,{children:[e.listen_num||e.listennum,"\u6b21\u64ad\u653e"]})]})]})]}),Object(L.jsx)(R.a,{style:ct.iconBox,children:Object(L.jsx)(tt.a,{fontSize:18,style:{color:"#666"}})})]},e.tid||e.dissid)}))]},n)}))})]})}var ct=T.a.create({container:{flex:1},topBox:{position:"relative",height:"30%"},topBg:{position:"absolute",width:"100%",top:0,left:0},topContent:{position:"absolute",left:20,bottom:20},userHead:{backgroundColor:"#ddd",borderRadius:100,width:80,height:80,justifyContent:"center",alignItems:"center"},userName:{marginTop:20,fontSize:24,fontWeight:"600",color:"white"},songListBox:{height:"70%",padding:20},songListTitle:{paddingBottom:20,fontSize:18,fontWeight:"600"},songListItem:{flexDirection:"row",marginBottom:10,justifyContent:"space-between"},itemInfo:{flexDirection:"row",flex:1},infoBox:{flexDirection:"column",marginLeft:15,justifyContent:"center",flex:1},songName:{fontSize:14,marginBottom:5},songCount:{flexDirection:"row",justifyContent:"flex-start",fontSize:12,color:"#666"},iconBox:{width:20,alignItems:"center",justifyContent:"center"}}),lt=n(239);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft={width:50,height:30,textAlign:"center",marginRight:10,fontSize:14,lineHeight:"22px",color:"#666"},pt=1;function ht(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(Object(lt.a)(500));case 2:return t.next=4,u.a.awrap(xe.GetSingerList({pageNo:pt}));case 4:return e=t.sent,pt++,t.abrupt("return",e.data.list);case 7:case"end":return t.stop()}}),null,null,null,Promise)}function bt(){var e=Object(h.useState)({area:[],genre:[],sex:[]}),t=c()(e,2),n=t[0],r=t[1],o=Object(h.useState)({area:-100,genre:-100,sex:-100}),i=c()(o,2),s=i[0],l=i[1],d=Object(h.useState)([]),f=c()(d,2),p=f[0],b=f[1],g=Object(h.useState)(!0),j=c()(g,2),O=j[0],m=j[1],y=function(e,t){return s[e]===t?we:"#fafafa"};return Object(h.useEffect)((function(){xe.SingerCateGory().then((function(e){r({area:e.data.area,genre:e.data.genre,sex:e.data.sex})}))}),[]),Object(L.jsxs)(R.a,{style:{padding:20,backgroundColor:"white"},children:[Object.keys(n).map((function(e){return n[e]&&!!n[e].length&&Object(L.jsx)(Pe.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{flexDirection:"row",marginBottom:10},children:n[e].map((function(t){return Object(L.jsx)(W.l,{round:!0,color:y(e,t.id),onClick:function(){return function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return l((function(n){return dt(dt({},n),{},a()({},e,t))})),r.next=3,u.a.awrap(xe.GetSingerList(dt(dt({},s),{},a()({},e,t))));case 3:n=r.sent,b(n.data.list);case 5:case"end":return r.stop()}}),null,null,null,Promise)}(e,t.id)},style:ft,children:t.name},t.id)}))},e)})),Object(L.jsx)(W.e,{style:{marginTop:20},children:p.map((function(e){return Object(L.jsx)(W.e.Item,{children:Object(L.jsxs)(R.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(L.jsx)(W.b,{src:e.singer_pic,width:50,height:50,style:{borderRadius:100,marginRight:20}}),Object(L.jsx)(B.a,{style:{fontSize:16},children:e.singer_name})]})},e.singer_id)}))}),Object(L.jsx)(W.c,{loadMore:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(ht());case 2:e=t.sent,b((function(t){return[].concat(qe()(t),qe()(e))})),m(e.length>0);case 5:case"end":return t.stop()}}),null,null,null,Promise)},hasMore:O})]})}var gt,jt={prefixes:[n(255).a("/")],config:{screens:{Root:{screens:{Home:{screens:{Home:"home"}},Account:{screens:{Account:"Account"}}}},SongPage:"SongPage",SongListPage:"SongListPage",SingerPage:"Singer",SongSortPage:"SongSortPage",SongRankPage:"SongRankPage",RadioPage:"RadioPage",NotFound:"*"}}},Ot=n(528);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e){var t=e.route,n=Object(q.o)(),r=Object(h.useState)(t.params),o=c()(r,1)[0],i=Object(h.useState)({}),a=c()(i,2),s=a[0],l=a[1];function u(e){n.navigate("SongPage",{title:e.songname,cover:e.cover,singerName:Fe(e.singer),mid:e.mid||e.songmid})}return Object(h.useEffect)((function(){o.type===gt.Rank?xe.TopRankDetails({id:o.id}).then((function(e){l(yt(yt({},e.data),{},{songlist:e.data.list}))})):xe.GetSongListDetails({id:o.id}).then((function(e){l(e.data)}))}),[]),Object(L.jsxs)(R.a,{style:vt.container,children:[Object(L.jsxs)(R.a,{style:vt.infoBox,children:[Object(L.jsx)(R.a,{style:vt.imgBox,children:Object(L.jsx)(W.b,{src:o.imgUrl,width:165,height:165})}),Object(L.jsx)(B.a,{style:vt.label,children:o.title}),Object(L.jsx)(B.a,{style:vt.titleDetail,children:o.subTitle}),Object(L.jsx)(B.a,{style:[vt.update],children:o.message}),Object(L.jsx)(R.a,{style:vt.playBtn,children:Object(L.jsx)(W.a,{color:"primary",onClick:function(){if(s.songlist&&s.songlist.length){var e=s.songlist.map((function(e){return{title:e.songname,cover:e.cover,singerName:Fe(e.singer),mid:e.mid||e.songmid}}));Ge.setItem("PLAYING_lIST_KEY",e),u(s.songlist[0])}},children:Object(L.jsx)(Ot.a,{})})})]}),Object(L.jsxs)(R.a,{style:vt.songList,children:[Object(L.jsxs)(B.a,{style:vt.listTitle,children:["\u6b4c\u5355 \u5171",(null==s?void 0:s.songnum)||(null==s?void 0:s.total)||s.cur_song_num,"\u9996"]}),(null==s?void 0:s.songlist)&&(null==s?void 0:s.songlist.map((function(e,t){return Object(L.jsxs)(D.a,{style:vt.songBox,onPress:function(){return u(e)},children:[o.type===gt.Rank&&Object(L.jsx)(B.a,{style:vt.songIndex,children:t+1}),Object(L.jsxs)(R.a,{children:[Object(L.jsx)(B.a,{style:vt.songTitle,children:e.songname||e.title}),Object(L.jsx)(B.a,{style:vt.singerName,children:Fe(e.singer)})]})]},e.songid||e.id)})))]})]})}!function(e){e.Rank="Rank",e.Sort="Sort",e.Recommend="Recommend"}(gt||(gt={}));var vt=T.a.create({container:{backgroundColor:"white"},infoBox:{display:"flex",width:"100%",justifyContent:"center",textAlign:"center",paddingTop:30,paddingBottom:20},imgBox:{margin:"auto",width:165,height:165,borderRadius:10,textShadowColor:"#ddd",shadowRadius:10,shadowOpacity:.8,shadowOffset:{width:1,height:1},overflow:"hidden"},label:{marginTop:20,fontSize:18,lineHeight:35,fontWeight:"400"},titleDetail:{lineHeight:35,fontSize:14,fontWeight:"400"},update:{lineHeight:35,marginBottom:10,color:"grey"},playBtn:{width:170,margin:"auto",borderRadius:20,overflow:"hidden"},songList:{paddingLeft:20,paddingRight:20,marginTop:10},listTitle:{fontSize:12,color:"grey",marginBottom:15},songBox:{flexDirection:"row",marginBottom:20},songIndex:{color:"#f56273",textAlign:"center",lineHeight:25,marginRight:10},rankValue:{color:"grey",fontSize:5},songTitle:{fontSize:16},singerName:{color:"rgba(0,0,0,.4)",fontSize:12}}),wt=n(530),St=n(531),Pt=n(532);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e){return Object(L.jsx)("svg",Ct(Ct({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6033",width:"20",height:"20"},e),{},{children:Object(L.jsx)("path",{d:"M304 176h80v672h-80zM712 176h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z","p-id":"6034"})}))}function Dt(e){var t=Object(h.useState)([]),n=c()(t,2),r=n[0],o=n[1];return Object(h.useEffect)((function(){e.mid&&xe.GetSongLyric({songmid:e.mid}).then((function(e){var t=function(e){var t=[],n=0,r=0,o=function(o,i){var a=e.slice(n,i).slice(10),s=o.replace(/\[|\]/g,"").split(":"),c=60*Number(s[0])+Number(s[1]);t.push([r,c,a]),r=c};return e.replace(/\[\d{2}:\d{2}.\d{2}\]/g,(function(e,t){return n&&o(e,t),n=t,e})),o(e.slice(n),e.length),t}(e.data.lyric);t.shift(),o(t)}))}),[e]),{lyrics:r,setLyrics:o}}var Et=n(529);function It(e){var t=e.visible,n=e.setVisible,r=e.playingSong,o=e.setPlayingSong,i=Object(h.useState)([]),a=c()(i,2),s=a[0],l=a[1];return Object(h.useEffect)((function(){!function(){var e,t,n;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(Ge.getItem("PLAYING_lIST_KEY"));case 2:e=o.sent,t=[],Array.isArray(e)?(n=e.find((function(e){return e.mid===r.mid})),t=e.concat(n?[]:[r])):t=[r],l(t),Ge.setItem("PLAYING_lIST_KEY",t);case 7:case"end":return o.stop()}}),null,null,null,Promise)}()}),[r]),Object(L.jsx)(W.g,{visible:t,onMaskClick:function(){n(!1)},bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",height:"60vh",overflow:"hidden",backgroundColor:"rgba(0,0,0,0.5)"},children:Object(L.jsx)(Pe.a,{showsVerticalScrollIndicator:!1,style:Bt.list,children:s.map((function(e){return Object(L.jsxs)(R.a,{style:Bt.item,children:[Object(L.jsxs)(D.a,{style:Bt.song,onPress:function(){return o(e)},children:[Object(L.jsx)(B.a,{style:Bt.title,children:(null==e?void 0:e.title)||""}),Object(L.jsx)(B.a,{style:Bt.line,children:"-"}),Object(L.jsx)(B.a,{style:Bt.singer,children:(null==e?void 0:e.singerName)||""})]},e.mid),Object(L.jsx)(Et.a,{onPress:function(){return function(e){var t=s.filter((function(t){return t.mid!==e.mid}));l(t),Ge.setItem("PLAYING_lIST_KEY",t)}(e)},name:"close",size:16,color:"#999"})]},e.mid)}))})})}var Bt=T.a.create({list:{padding:15,height:"60vh"},item:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomColor:"rgba(255,255,255,0.1)",borderBottomWidth:1},song:{flexDirection:"row",width:"90%",paddingTop:10,paddingBottom:10},title:{color:"#fff",fontSize:16},line:{marginLeft:10,marginRight:10,color:"#999"},singer:{color:"#999",fontSize:12,lineHeight:22}});function Rt(e){var t=e.soundPercent,n=e.onMoveDistance,r=e.width,o=void 0===r?80:r,i=Object(h.useRef)(null),a=Object(h.useState)(t),s=c()(a,2),l=s[0],u=s[1];return Object(L.jsxs)(R.a,{ref:i,style:[Lt.progressBarBox,{width:o}],children:[Object(L.jsx)(R.a,{style:[Lt.progressBar],children:Object(L.jsx)(R.a,{style:{width:l,height:"100%",backgroundColor:we}})}),Object(L.jsx)(R.a,{style:[Lt.tounchBar,{left:l}],onTouchMove:function(e){var t=Number(i.current.offsetLeft),r=Number(e.nativeEvent.changedTouches[0].clientX)-t;r<=0&&(r=0),r>=o&&(r=o),u(r),n&&n(r/o*100)}})]})}var Lt=T.a.create({progressBarBox:{position:"relative",alignItems:"center",height:10,marginLeft:10},progressBar:{width:"100%",height:4,marginTop:2,backgroundColor:"#fff"},tounchBar:{position:"absolute",top:0,left:0,width:10,height:10,borderRadius:100,backgroundColor:we}}),Nt=n(256);function zt(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1];return Object(h.useEffect)((function(){var e=function(){for(var e=0,t=0,n=0,r=0;r<200;)r=.299*(e=255*Math.random())+.587*(t=255*Math.random())+.114*(n=255*Math.random());return"rgb("+e+","+t+","+n+")"};r([e(),e()])}),[]),Object(L.jsx)(Nt.a,{style:{position:"absolute",top:0,left:0,opacity:.3,flex:1,width:"100vw",height:"100vh"},colors:n})}function _t(e){var t=e.route,n=Object(h.useState)(t.params),r=c()(n,2),o=r[0],i=r[1],a=Object(h.useState)(""),s=c()(a,2),l=s[0],d=s[1],f=Dt(o).lyrics,p=Object(h.useRef)(null),b=Object(h.useState)(!1),g=c()(b,2),j=g[0],O=g[1],m=Object(h.useState)(!0),y=c()(m,2),x=y[0],v=y[1],w=Object(h.useState)(10),S=c()(w,2),P=S[0],k=S[1],C=Object(h.useState)(0),T=c()(C,2),E=T[0],I=T[1],N=Object(h.useState)(0),z=c()(N,2),_=z[0],A=z[1],M=Object(h.useState)(!1),G=c()(M,2),U=G[0],H=G[1];Object(h.useEffect)((function(){p.current.volume=P/100,p.current.ontimeupdate=function(){var e=p.current.currentTime;I(e),A(e/p.current.duration*100)}}),[]),Object(h.useEffect)((function(){xe.GetSongPlayUrl({id:o.mid}).then((function(e){e.data&&d(e.data[o.mid])}))}),[o]);var V=function(e){return{color:e[0]<E&&E<e[1]?we:"",marginBottom:10}};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(zt,{}),Object(L.jsxs)(R.a,{style:At.container,children:[Object(L.jsxs)(R.a,{style:At.songInfo,children:[Object(L.jsx)(B.a,{style:At.songTitle,children:o.title}),Object(L.jsx)(B.a,{style:At.singerName,children:o.singerName}),o.cover&&Object(L.jsx)(R.a,{style:At.songImg,children:Object(L.jsx)(W.b,{width:200,height:200,src:o.cover})})]}),Object(L.jsx)(Pe.a,{showsVerticalScrollIndicator:!1,style:At.lyricBox,children:f.map((function(e){return Object(L.jsx)(B.a,{style:V(e),children:e[2]},e[1])}))}),Object(L.jsx)(W.h,{percent:_,style:{"--fill-color":we}}),Object(L.jsxs)(R.a,{style:At.toolsBox,children:[Object(L.jsxs)(R.a,{style:At.btnBox,children:[Object(L.jsxs)(D.a,{style:At.btn,onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return W.m.show({icon:"fail",content:"\u64ad\u653e\u94fe\u63a5\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u5c1d\u8bd5\u5237\u65b0\u91cd\u8bd5\u3002"}),e.abrupt("return");case 3:p.current&&!j?(p.current.play(),O(!0)):(p.current.pause(),O(!1));case 4:case"end":return e.stop()}}),null,null,null,Promise)},children:[j&&Object(L.jsx)(Tt,{}),!j&&Object(L.jsx)(Ot.a,{fontSize:20})]}),Object(L.jsxs)(D.a,{style:At.sound,onPress:function(){v(!x),p.current.muted=x,k(0),p.current.volume=0},children:[x&&Object(L.jsx)(wt.a,{fontSize:23}),!x&&Object(L.jsx)(St.a,{fontSize:23})]}),Object(L.jsx)(Rt,{isMove:x,soundPercent:P,onMoveDistance:function(e){k(e),p.current.volume=e/100}})]}),Object(L.jsx)(D.a,{style:At.playList,onPress:function(){return H(!0)},children:Object(L.jsx)(Pt.a,{fontSize:20})})]}),Object(L.jsx)("audio",{style:{display:"none"},ref:p,src:l,controls:!0})]}),Object(L.jsx)(It,{visible:U,setVisible:H,playingSong:o,setPlayingSong:i})]})}var At=T.a.create({container:{flex:1},songInfo:{paddingTop:20,paddingBottom:20},songTitle:{fontSize:20,marginBottom:10,textAlign:"center"},singerName:{textAlign:"center"},songImg:{width:200,height:200,margin:"20px auto",overflow:"hidden",borderRadius:10,shadowColor:"#eee",shadowOpacity:1,shadowRadius:10},lyricBox:{height:"40vh",paddingBottom:20,overflow:"scroll",textAlign:"center"},toolsBox:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:70},btnBox:{flexDirection:"row",alignItems:"center",marginLeft:20},btn:{justifyContent:"center",alignItems:"center",width:30,height:30,border:"1px solid rgba(0,0,0,.2)",borderRadius:100},sound:{marginLeft:20},progressBarBox:{position:"relative",width:80,marginLeft:8},tounchBar:{position:"absolute",top:-3,left:0,marginLeft:-5,width:10,height:10,borderRadius:100,backgroundColor:we},playList:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:20}}),Mt=n(41),Gt=[{id:133,title:"\u5f71\u89c6"},{id:165,title:"\u56fd\u8bed"},{id:145,title:"\u56fd\u98ce"},{id:15,title:"\u8f7b\u97f3\u4e50"},{id:169,title:"\u65e5\u8bed"},{id:153,title:"\u563b\u54c8"}];function Ut(){var e=Object(h.useState)(133),t=c()(e,2),n=t[0],r=t[1],o=Object(h.useState)([]),i=c()(o,2),a=i[0],s=i[1],l=Object(q.o)(),d=(Mt.a.get("window").width-54)/3,f=function(){var e,t,r,o=arguments;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:n,i.next=3,u.a.awrap(xe.GetSongList({category:e}));case 3:t=i.sent,(r=t.data.list).length-=r.length%3,s(r);case 7:case"end":return i.stop()}}),null,null,null,Promise)};return Object(h.useEffect)((function(){f()}),[]),Object(L.jsx)(W.k,{style:{"--title-font-size":"13px",backgroundColor:"#fff"},onChange:function(e){r(Number(e)),f(Number(e))},children:Gt.map((function(e){return Object(L.jsx)(W.k.Tab,{title:e.title,children:Object(L.jsx)(R.a,{style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:a.map((function(e){return Object(L.jsxs)(D.a,{onPress:function(){return function(e){l.navigate("SongListPage",{id:e.dissid,title:e.dissname,imgUrl:e.imgurl,subTitle:e.creator.name,message:"\u64ad\u653e\u91cf\uff1a"+e.listennum})}(e)},style:{width:d},children:[Object(L.jsx)(W.b,{src:e.imgurl,width:d,height:d,style:{borderRadius:10}}),Object(L.jsx)(B.a,{style:{fontSize:12,marginTop:10,marginBottom:10},children:e.dissname})]},e.dissid)}))})},e.id)}))})}function Ht(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1],o=(Mt.a.get("window").width-54)/3;return Object(h.useEffect)((function(){xe.GetRadioCaregory().then((function(e){r(e.data.filter((function(e){return e.list.length})))}))}),[]),Object(L.jsx)(R.a,{style:{backgroundColor:"white"},children:Object(L.jsx)(W.k,{style:{"--title-font-size":"13px"},defaultActiveKey:"48",children:n.map((function(e){return Object(L.jsx)(W.k.Tab,{title:e.title,children:Object(L.jsx)(R.a,{style:Vt.radioList,children:e.list.slice(0).map((function(e){return Object(L.jsxs)(D.a,{style:Vt.radioItem,onPress:function(){return t=e.id,void xe.GetRadioSong({id:t}).then((function(e){var t,n,r;null!=(t=e.data)&&null!=(n=t.tracks)&&n.length&&Ge.setItem("PLAYING_SONG_LIST_KEY",null==(r=e.data)?void 0:r.tracks)}));var t},children:[Object(L.jsxs)(R.a,{style:{position:"relative"},children:[Object(L.jsx)(W.b,{src:e.pic_url,width:o,height:o,style:{borderRadius:100}}),Object(L.jsx)(R.a,{style:Vt.radioIcon,children:Object(L.jsx)(Ot.a,{fontSize:30,color:"#fff"})})]}),Object(L.jsx)(B.a,{style:Vt.radioText,children:e.title})]},e.id)}))})},e.id)}))})})}var Vt=T.a.create({radioList:{paddingTop:10,flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"},radioItem:{marginBottom:20},radioIcon:{position:"absolute",top:"50%",left:"50%",marginLeft:-15,marginTop:-15},radioText:{marginTop:10,textAlign:"center"}});function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(){var e=Object(q.o)(),t=function(){var e=Object(h.useState)([]),t=c()(e,2),n=t[0],r=t[1],o=Object(h.useState)([]),i=c()(o,2),s=i[0],l=i[1],d=Object(h.useState)([]),f=c()(d,2),p=f[0],b=f[1];function g(e){for(var t={},n=function(n){var r=e[n].topId;if(201===r)return"continue";t[r]=e[n],xe.TopRankDetails({id:r}).then((function(e){b((function(n){return Yt(Yt({},n),{},a()({},r,Yt(Yt({},t[r]),e.data)))}))}))},r=0;r<e.length;r++)n(r)}return Object(h.useEffect)((function(){!function(){var e,t,n,o;u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e=localStorage.getItem("RankList"))){i.next=5;break}t=JSON.parse(e),i.next=9;break;case 5:return i.next=7,u.a.awrap(xe.TopRankCategory());case 7:n=i.sent,localStorage.setItem("RankList",JSON.stringify(n));case 9:o=t.data.reduce((function(e,t){return e.concat(t.list)}),[]),r(o),l(o.filter((function(e){return[60,67,63].includes(e.topId)}))),g(t.data[0].list);case 13:case"end":return i.stop()}}),null,null,null,Promise)}()}),[]),{allRankList:n,recommendRanckList:s,topRanckMap:p}}().topRanckMap;return Object(L.jsx)(Pe.a,{style:Kt.container,children:Object.values(t).map((function(t){return Object(L.jsxs)(D.a,{style:Kt.item,onPress:function(){return n=t,void e.navigate("SongListPage",{id:n.topId,imgUrl:n.picUrl,title:n.info.title,subTitle:n.info.titleDetail,message:"\u66f4\u65b0\u65f6\u95f4\uff1a"+n.period,type:"Rank"});var n},children:[Object(L.jsxs)(R.a,{style:Kt.desc,children:[Object(L.jsx)(B.a,{style:Kt.label,children:t.label}),t.list&&t.list.slice(0,3).map((function(e,t){return Object(L.jsxs)(R.a,{style:Kt.song,children:[Object(L.jsxs)(B.a,{style:Kt.index,children:[t+1,"."]}),Object(L.jsxs)(B.a,{style:Kt.songTitle,children:[e.title,"-"]}),Object(L.jsx)(B.a,{style:Kt.singerName,children:e.singerName})]},e.id)}))]}),Object(L.jsxs)(R.a,{style:Kt.itemBox,children:[Object(L.jsx)("img",{src:t.picUrl,width:180,style:{position:"absolute",top:-40,left:-40}}),Object(L.jsxs)(B.a,{style:Kt.listenNum,children:[(t.listenNum/1e4).toFixed(1),"\u4e07"]})]})]},t.id)}))})}var Kt=T.a.create({container:{flex:1,paddingTop:Ae.a.currentHeight,overflow:"scroll",padding:20},item:{flexDirection:"row",justifyContent:"space-between",borderRadius:10,overflow:"hidden",marginBottom:10,backgroundColor:"white"},desc:{padding:10,flex:1},itemBox:{position:"relative",width:100,overflow:"hidden"},listenNum:{position:"absolute",bottom:5,right:5,color:"white"},label:{fontSize:16,fontWeight:"600"},song:{flexDirection:"row",marginTop:5},index:{fontWeight:"600",fontSize:12},songTitle:{fontSize:12},singerName:{color:"#999",fontSize:12}});function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){var t=e.colorScheme;return Object(L.jsx)(w.a,{linking:jt,theme:"dark"===t?S.a:P.a,children:Object(L.jsx)(Zt,{})})}var Qt=Object(k.a)();function Zt(){return Object(L.jsxs)(Qt.Navigator,{children:[Object(L.jsx)(Qt.Screen,{name:"Root",component:$t,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"SongPage",component:_t,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"SongListPage",component:xt,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"SingerPage",component:bt,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"SongSortPage",component:Ut,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"SongRankPage",component:qt,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"RadioPage",component:Ht,options:{headerShown:!1}}),Object(L.jsx)(Qt.Screen,{name:"NotFound",component:H,options:{title:"404"}})]})}var Xt=Object(v.a)();function $t(){var e=m();return Object(L.jsxs)(Xt.Navigator,{initialRouteName:"Home",screenOptions:{tabBarActiveTintColor:C[e].tint},children:[Object(L.jsx)(Xt.Screen,{name:"Home",component:$e,options:function(e){return x()(e),{title:"Home",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(en,{name:"home",color:t})},headerShown:!1}}}),Object(L.jsx)(Xt.Screen,{name:"Account",component:st,options:function(e){return x()(e),{title:"Account",tabBarIcon:function(e){var t=e.color;return Object(L.jsx)(en,{name:"user",color:t})},headerShown:!1}}})]})}function en(e){return Object(L.jsx)(d.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({size:30,style:{marginBottom:-3}},e))}n(513);function tn(){var e=function(){var e=Object(h.useState)(!1),t=c()(e,2),r=t[0],o=t[1];return Object(h.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.b(),e.next=4,u.a.awrap(f.b(j(j({},d.a.font),{},{"space-mono":n(335)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),p.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=m();return e?Object(L.jsxs)(o.b,{children:[Object(L.jsx)(Jt,{colorScheme:t}),Object(L.jsx)(r.a,{})]}):null}},317:function(e,t,n){n(318),e.exports=n(515)},335:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},487:function(e,t,n){e.exports=n.p+"static/media/account-bg.3e2bf329.jpg"},497:function(e,t){},513:function(e,t,n){var r=n(36),o=n(514);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},514:function(e,t,n){(t=n(37)(!1)).push([e.i,':root:root {\r\n  --adm-color-primary: #22d59c;\r\n  color: "#121212";\r\n}\r\n',""]),e.exports=t}},[[317,1,2]]]);
//# sourceMappingURL=app.d750da8b.chunk.js.map